<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleção de Produtos</title>
    <link rel="stylesheet" href="produtos.css">
</head>
<body>

    <!-- Nova Visualização: Gerenciador de Clientes (Página Inicial) -->
    <div id="client-manager-view">
        <header>
            <h1>Gerenciador de Clientes</h1>
            <img src="https://lh3.googleusercontent.com/pw/AP1GczNz7dDYKuC5jH5PJSUP4pvB31MC7JzRRz8w9k4Q37uMp4EQ9uzGubYa4OhHpfwpI0R-XIzhNYBVIwI0pSR0xpmVWAQ0EWcJ2Y9VVSu7oylzCdHHia9ueDT3Cf6nw3bxvjIqO-PuRot036FH7pOeN68=w400-h400-s-no-gm?authuser=1" alt="Logo da Empresa" class="header-logo">
        </header>
        <main>
            <section class="controls">
                <form id="add-client-form">
                    <input type="text" id="client-name-input" placeholder="Nome do novo cliente" required>
                    <button type="submit">Criar Cliente</button>
                </form>
            </section>
            <section id="client-list-container">
                <h2>Clientes Criados</h2>
                <div id="client-list">
                    <p>Carregando clientes...</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Container para as visualizações de Editor e Cliente (agora específicas por cliente) -->
    <div id="client-page-view" style="display: none;">
        <div id="editor-view">
            <header>
                <h1 id="editor-header-title">Editor de Produtos</h1>
                <div>
                    <a href="#" id="voltar-admin-btn" class="back-button">← Voltar</a>
                    <a href="#" id="go-to-viewer-btn" class="view-button">Visualizar como Cliente</a>
                </div>
            </header>
            <main>
                <section class="controls">
                    <form id="add-category-form">
                        <input type="text" id="category-name-input" placeholder="Nome do novo ambiente (ex: Cozinha)" required>
                        <button type="submit">Criar Ambiente</button>
                    </form>
                    <button id="show-card-modal-btn">Adicionar Produto</button>
                </section>
                <div id="categories-container"></div>
            </main>
        </div>

        <div id="viewer-view">
            <header>
                <h1 id="viewer-header-title">Seleção de Produtos para Aprovação</h1>
                <img src="https://lh3.googleusercontent.com/pw/AP1GczNz7dDYKuC5jH5PJSUP4pvB31MC7JzRRz8w9k4Q37uMp4EQ9uzGubYa4OhHpfwpI0R-XIzhNYBVIwI0pSR0xpmVWAQ0EWcJ2Y9VVSu7oylzCdHHia9ueDT3Cf6nw3bxvjIqO-PuRot036FH7pOeN68=w400-h400-s-no-gm?authuser=1" alt="Logo da Empresa" class="header-logo">
            </header>
            <main id="viewer-container"></main>
        </div>
    </div>


    <!-- Modais (sem alteração na estrutura) -->
    <div id="add-card-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <form id="add-card-form">
                <h2 id="modal-title">Adicionar Novo Produto</h2>
                <input type="hidden" id="card-id-edit">
                <label for="card-category">Selecione o Ambiente:</label>
                <select id="card-category" required></select>
                <label for="card-image">URL da Imagem:</label>
                <input type="url" id="card-image" placeholder="https://exemplo.com/imagem.jpg" required>
                <label for="card-name">Nome do Produto:</label>
                <input type="text" id="card-name" placeholder="Ex: Sofá Retrátil, Cadeira Eames" required>
                <label for="card-description">Descrição do Produto:</label>
                <textarea id="card-description" rows="3" placeholder="Ex: Sofá 3 lugares, tecido linho cinza" required></textarea>
                <label for="card-quantity">Quantidade:</label>
                <input type="number" id="card-quantity" value="1" min="1" required>
                <div class="modal-actions">
                    <button type="button" id="cancel-card-btn">Cancelar</button>
                    <button type="submit" id="save-card-btn">Salvar Produto</button>
                </div>
            </form>
        </div>
    </div>

    <div id="image-viewer-modal" class="modal-overlay" style="display: none;">
        <span class="close-image-modal">&times;</span>
        <img class="modal-image-content" id="modal-image" alt="Imagem do Produto Ampliada">
    </div>

    <!-- Scripts do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <!-- Script principal da aplicação -->
    <script src="produtos.js"></script>
</body>
</html>
